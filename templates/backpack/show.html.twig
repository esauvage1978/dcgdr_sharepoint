{% extends 'base.html.twig' %}

{% set title='Porte document' %}
{% set entityName='backpack' %}
{% set entity=backpack %}

{% block title %}{{ parent() }} {{ title }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ absolute_url( asset('plugins/datatables-bs4/css/dataTables.bootstrap4.css')) }}">
{% endblock %}

{% block body_header %}

{% endblock %}

{% block sidebar_sommaire %}
    {% if entity.content %}
        <li class="nav-item ">
            <a class="nav-link" href="#anchor_content">
                <i class="fas fa-project-diagram"></i> Description
            </a>
        </li>
    {% endif %}
{% endblock %}

{% block sidebar_button %}
    {% if is_granted('ROLE_GESTIONNAIRE') %}

        {{ include('share/__btn_edit.html.twig',
            {   'url':entityName ~'_edit',
                'id':entity.id
            }) }}

        <span class="mb-3"></span>

        <span class="btn btn-danger " onclick="$('#delete').click();">
            <i class="fas fa-trash"></i> Supprimer
        </span>

    {% endif %}

    <span class="mb-3"></span>

{% endblock %}



{% block body %}

    <div class="row justify-content-center">
        <div id="anchor_name" class="jumbotron col-12 text-center text-purple">
            <h3>
                {{ entity.name }}
            </h3>
            <small class="float-right">
                {% if entity.enable %}
                    <span class="text-success">Visible</span>
                {% else %}
                    <span class="text-danger">Masqu√©e</span>
                {% endif %}
            </small>
        </div>
        <div class="row col-12">
            <div class=" col-sm-12   col-md-12  col-lg-12   col-xl-7 ">
                {{ include(entityName~'/_show/_content.html.twig',{content:entity.content}) }}
            </div>

            <div class=" col-sm-12 col-md-12 col-lg-6 col-xl-3 order-xl-first">
                {{ include(entityName~'/_show/_arborescence.html.twig') }}
            </div>

            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-2 mb-5">
                <div class="row">
                    <div class="m-0 col-sm-12 col-md-6 col-lg-6 col-xl-12">
                        {{ include('rubric/_view/_vignette.html.twig',{rubric:entity.underRubric.rubric}) }}
                    </div>
                    <div class="m-0 col-sm-12 col-md-6 col-lg-6 col-xl-12 ">
                        {{ include('underrubric/_view/_vignette.html.twig',{underrubric:entity.underRubric}) }}
                    </div>
                </div>
            </div>
        </div>

        <div class="d-none">
            {{ include('share/_delete_form.html.twig',{domaine: entityName ,id:entity.id}) }}
        </div>
    </div>
{% endblock %}


{% block javascripts %}
    <script src="{{ absolute_url( asset('js/add_sidebar.js')) }}"></script>
{% endblock %}

{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} Corbeille{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ absolute_url( asset('plugins/datatables-bs4/css/dataTables.bootstrap4.css')) }}">
{% endblock %}

{% block body_header %}
    {{ include('admin/_body_header.html.twig', {'domaine': 'Corbeille' , 'id' : corbeille.id, 'index' : 'corbeille_index'}) }}
{% endblock %}

    {% block body %}

<div class="row justify-content-center">

    <div class="jumbotron col-12 text-center">
        <h3>
            <a href="{{ path('corbeille_show',{'id':corbeille.id}) }}">
                {{ corbeille.name }}
            </a>
        </h3>
    </div>

    <div class="col-12">
        {% if corbeille.actionValiders.count >0  %}
            <article class=" mt-4 ml-4">
                <div class="card-header">
                    <h4 class="card-title text-purple">
                        Validation d'actions
                    </h4>

                    <small class="float-right mr-2">
                        {{ corbeille.actionValiders | length }}
                    </small>

                </div>
                <div class="card-body">
                    <div class="row">
                        {% for action in corbeille.actionValiders %}
                            <div class="col-4">
                                {{ include('action/_view/_show_item.html.twig') }}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </article>
        {% endif %}
        {% if corbeille.actionWriters.count >0 %}
            <article class=" mt-4 ml-4">
                <div class="card-header">
                    <h4 class="card-title text-purple">
                        Pilotage d'actions
                    </h4>

                    <small class="float-right mr-2">
                        {{ corbeille.actionWriters | length }}
                    </small>

                </div>
                <div class="card-body">
                    <div class="row">
                        {% for action in corbeille.actionWriters %}
                            <div class="col-4">
                                {{ include('action/_view/_show_item.html.twig') }}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </article>
        {% endif %}
        {% if corbeille.actionReaders.count >0  %}
            <article class=" mt-4 ml-4">
                <div class="card-header">
                    <h4 class="card-title text-purple">
                        Consultation d'actions
                    </h4>

                    <small class="float-right mr-2">
                        {{ corbeille.actionReaders | length }}
                    </small>

                </div>
                <div class="card-body">
                    <div class="row">
                        {% for action in corbeille.actionReaders %}
                            <div class="col-4">
                                {{ include('action/_view/_show_item.html.twig') }}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </article>
        {% endif %}
        {% if corbeille.deployementWriters.count >0  %}
            <article class=" mt-4 ml-4">
                <div class="card-header">
                    <h4 class="card-title text-purple">
                        Pilotage de déploiements
                    </h4>

                    <small class="float-right mr-2">
                        {{ corbeille.deployementWriters | length }}
                    </small>

                </div>
                <div class="card-body">
                    <div class="row">
                        {% for deployement in corbeille.deployementWriters %}
                            <div class="col-4">
                                {{ include('deployement/_view/_show_item.html.twig') }}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </article>
        {% endif %}
        {% if corbeille.deployementReaders.count >0 %}
            <article class=" mt-4 ml-4">
                <div class="card-header">
                    <h4 class="card-title text-purple">
                        Consultation de déploiements
                    </h4>

                    <small class="float-right mr-2">
                        {{ corbeille.deployementReaders | length }}
                    </small>

                </div>
                <div class="card-body">
                    <div class="row">
                        {% for deployement in corbeille.deployementReaders %}
                            <div class="col-4">
                                {{ include('deployement/_view/_show_item.html.twig') }}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </article>
        {% endif %}
    </div>
</div>

    {% endblock %}
